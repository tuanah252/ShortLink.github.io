{"ast":null,"code":"var _jsxFileName = \"D:\\\\VisualStudioCode\\\\URL-shortening-with-React\\\\my-app\\\\src\\\\api\\\\ShortLinkApi.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { CButton, CForm, CCol, CFormLabel, CFormInput } from '@coreui/react';\nimport '../../src/scss/Subcontent.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ShortLinkApi extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      inputLink: [],\n      rawLink: [],\n      correctLink: false\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        inputLink: event.target.value\n      });\n    };\n\n    this.handleInput = () => {};\n  }\n\n  handleCopy(index) {\n    var copyBtn = document.querySelector(`.${index}`);\n    copyBtn.classList.add('link-submitted');\n    copyBtn.innerHTML = 'Copied';\n  }\n\n  async getLink(event) {\n    try {\n      event.preventDefault();\n      let link = await this.state.inputLink;\n      const res = await axios.get('https://api.shrtco.de/v2/shorten?url=' + link);\n      this.setState({\n        // rawLink: res.data.result ? res.data.result : [],\n        rawLink: res.data.result ? [...this.state.rawLink, res.data.result] : []\n      });\n      let subcontent = document.querySelector('.main-subcontent');\n      subcontent.classList.add('main-subcontent-2');\n\n      if (this.state.rawLink.length > 0) {\n        const app = document.querySelector('.App');\n        app.classList.add('color-change-to-white');\n        const html = document.querySelector('html');\n        html.classList.add('color-change-to-wghite');\n        const body = document.querySelector('body');\n        body.classList.add('color-change-to-white');\n        const subcontent = document.querySelector('.Subcontent');\n        subcontent.classList.add('color-change-to-main');\n        const content = document.querySelector('.Content');\n        content.classList.add('color-change-to-main');\n      } else {\n        let app = document.querySelector('.App');\n        app.classList.add('color-change-to-main');\n      }\n\n      this.setState({\n        inputLink: event.target.value,\n        correctLink: false\n      });\n    } catch {\n      this.setState({\n        correctLink: true\n      });\n      return;\n    }\n  }\n\n  render() {\n    // eslint-disable-next-line no-unused-vars\n    let {\n      rawLink,\n      inputLink,\n      correctLink,\n      copied\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Shorten-input\",\n        children: /*#__PURE__*/_jsxDEV(CForm, {\n          className: \"row g-3\",\n          children: [/*#__PURE__*/_jsxDEV(CCol, {\n            xs: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(CFormLabel, {\n              htmlFor: \"inputPassword2\",\n              className: \"visually-hidden \",\n              children: \"Shorten a link here..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(CFormInput, {\n              type: \"text\",\n              id: \"inputPassword2\",\n              className: \"link-input\",\n              placeholder: \"Shorten a link here..\",\n              value: this.state.inputLink,\n              onChange: event => {\n                this.handleChange(event);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 8\n            }, this), correctLink === true ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"link-require\",\n              children: \"Please add a link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 9\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(CCol, {\n            xs: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(CButton, {\n              className: \"mb-3 link-submit \",\n              onClick: event => this.getLink(event),\n              children: \"Shorten it!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), this.state.rawLink.length > 0 && rawLink.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"link-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"raw-link\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.original_link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shorted\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"link-output\",\n              children: item.short_link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(CButton, {\n              type: \"submit\",\n              className: `mb-3 copyBtn list${index}`,\n              onClick: () => {\n                navigator.clipboard.writeText(`http://${item.short_link}`);\n                this.handleCopy(`list${index}`);\n              },\n              children: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 9\n          }, this)]\n        }, item.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 8\n        }, this);\n      })]\n    }, void 0, true);\n  }\n\n}\n\nexport default ShortLinkApi;","map":{"version":3,"names":["React","axios","CButton","CForm","CCol","CFormLabel","CFormInput","ShortLinkApi","Component","state","inputLink","rawLink","correctLink","handleChange","event","setState","target","value","handleInput","handleCopy","index","copyBtn","document","querySelector","classList","add","innerHTML","getLink","preventDefault","link","res","get","data","result","subcontent","length","app","html","body","content","render","copied","map","item","original_link","short_link","navigator","clipboard","writeText","code"],"sources":["D:/VisualStudioCode/URL-shortening-with-React/my-app/src/api/ShortLinkApi.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { CButton, CForm, CCol, CFormLabel, CFormInput } from '@coreui/react';\nimport '../../src/scss/Subcontent.scss';\nclass ShortLinkApi extends React.Component {\n\tstate = {\n\t\tinputLink: [],\n\t\trawLink: [],\n\t\tcorrectLink: false,\n\t};\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\tinputLink: event.target.value,\n\t\t});\n\t};\n\n\thandleCopy(index) {\n\t\tvar copyBtn = document.querySelector(`.${index}`);\n\t\tcopyBtn.classList.add('link-submitted');\n\t\tcopyBtn.innerHTML = 'Copied';\n\t}\n\n\thandleInput = () => {};\n\tasync getLink(event) {\n\t\ttry {\n\t\t\tevent.preventDefault();\n\t\t\tlet link = await this.state.inputLink;\n\n\t\t\tconst res = await axios.get(\n\t\t\t\t'https://api.shrtco.de/v2/shorten?url=' + link\n\t\t\t);\n\t\t\tthis.setState({\n\t\t\t\t// rawLink: res.data.result ? res.data.result : [],\n\t\t\t\trawLink: res.data.result\n\t\t\t\t\t? [...this.state.rawLink, res.data.result]\n\t\t\t\t\t: [],\n\t\t\t});\n\t\t\tlet subcontent = document.querySelector('.main-subcontent');\n\t\t\tsubcontent.classList.add('main-subcontent-2');\n\n\t\t\tif (this.state.rawLink.length > 0) {\n\t\t\t\tconst app = document.querySelector('.App');\n\t\t\t\tapp.classList.add('color-change-to-white');\n\t\t\t\tconst html = document.querySelector('html');\n\t\t\t\thtml.classList.add('color-change-to-wghite');\n\t\t\t\tconst body = document.querySelector('body');\n\t\t\t\tbody.classList.add('color-change-to-white');\n\t\t\t\tconst subcontent = document.querySelector('.Subcontent');\n\t\t\t\tsubcontent.classList.add('color-change-to-main');\n\t\t\t\tconst content = document.querySelector('.Content');\n\t\t\t\tcontent.classList.add('color-change-to-main');\n\t\t\t} else {\n\t\t\t\tlet app = document.querySelector('.App');\n\t\t\t\tapp.classList.add('color-change-to-main');\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tinputLink: event.target.value,\n\t\t\t\tcorrectLink: false,\n\t\t\t});\n\t\t} catch {\n\t\t\tthis.setState({\n\t\t\t\tcorrectLink: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t}\n\n\trender() {\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tlet { rawLink, inputLink, correctLink, copied } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className='Shorten-input'>\n\t\t\t\t\t<CForm className='row g-3'>\n\t\t\t\t\t\t<CCol xs='auto'>\n\t\t\t\t\t\t\t<CFormLabel\n\t\t\t\t\t\t\t\thtmlFor='inputPassword2'\n\t\t\t\t\t\t\t\tclassName='visually-hidden '\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tShorten a link here..\n\t\t\t\t\t\t\t</CFormLabel>\n\t\t\t\t\t\t\t<CFormInput\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tid='inputPassword2'\n\t\t\t\t\t\t\t\tclassName='link-input'\n\t\t\t\t\t\t\t\tplaceholder='Shorten a link here..'\n\t\t\t\t\t\t\t\tvalue={this.state.inputLink}\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tthis.handleChange(event);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{correctLink === true ? (\n\t\t\t\t\t\t\t\t<p className='link-require'>\n\t\t\t\t\t\t\t\t\tPlease add a link\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t<CCol xs='auto'>\n\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\tclassName='mb-3 link-submit '\n\t\t\t\t\t\t\t\tonClick={(event) => this.getLink(event)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tShorten it!\n\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t</CCol>\n\t\t\t\t\t</CForm>\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.rawLink.length > 0 &&\n\t\t\t\t\trawLink.map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className='link-container' key={item.code}>\n\t\t\t\t\t\t\t\t<div className='raw-link'>\n\t\t\t\t\t\t\t\t\t<p>{item.original_link}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='shorted'>\n\t\t\t\t\t\t\t\t\t<p className='link-output'>\n\t\t\t\t\t\t\t\t\t\t{item.short_link}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\tclassName={`mb-3 copyBtn list${index}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(\n\t\t\t\t\t\t\t\t\t\t\t\t`http://${item.short_link}`\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tthis.handleCopy(`list${index}`);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCopy\n\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default ShortLinkApi;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}